---
name: .gitignore-env-setup
description: Setup .env files and .gitignore for both frontend (Next.js) and backend (FastAPI). Use this Skill to standardize environment management and avoid committing sensitive or unnecessary files.
---

# Git & Env Setup

## Instructions

This Skill helps you:

1. Create `.env` files for both frontend and backend.
2. Configure `.gitignore` to prevent sensitive files from being committed.
3. Reference environment variables in FastAPI and Next.js.

---

## 1. Environment Setup

### Backend (FastAPI)

1. Create a `.env` file in the backend root folder.
2. Add variables:

```
API_KEY="your-api-key"
DATABASE_URL="postgresql://user:pass@localhost:5432/dbname"
SECRET_KEY="supersecretkey"
DEBUG=True
```

3. Access variables in FastAPI:

```python

from fastapi import FastAPI
from pydantic import BaseSettings

class Settings(BaseSettings):
    api_key: str
    database_url: str
    secret_key: str
    debug: bool

    class Config:
        env_file = ".env"

settings = Settings()
app = FastAPI()

@app.get("/env")
def show_env():
    return {"API_KEY": settings.api_key}

```

---

### Frontend (Next.js)

1. Create a `.env.local` file in the frontend root.
2. Add variables (prefix `NEXT_PUBLIC_` for public use in client):

```
NEXT_PUBLIC_API_URL="http://localhost:3000"
NEXT_PUBLIC_ANALYTICS_ID="your-analytics-id"

```

3. Access in Next.js:

```ts
const apiUrl = process.env.NEXT_PUBLIC_API_URL;
console.log("API URL:", apiUrl);
```

---

## 2. Git Ignore Setup

### Backend `.gitignore`

```
# Python
__pycache__/
*.pyc
*.pyo
*.pyd
venv/
.env

# IDE & system files
.vscode/
.DS_Store
```

### Frontend `.gitignore`

```
# Node
node_modules/
npm-debug.log
yarn-error.log
pnpm-lock.yaml

# Next.js
.next/
out/
.env.local
.env.development.local
.env.production.local

# IDE & system
.vscode/
.DS_Store
```

---

## Best Practices

1. Never commit `.env` files with secrets.
2. Use `.env.example` to share variable names without values:

```
API_KEY=
DATABASE_URL=
SECRET_KEY=
NEXT_PUBLIC_API_URL=
NEXT_PUBLIC_ANALYTICS_ID=
```

3. Restart servers after changing `.env` files.
4. Commit `.gitignore` before adding files.

---

## Example Workflow

1. Create `.env` files in backend and frontend.
2. Add all secrets and local variables.
3. Apply `.gitignore` rules.
4. Verify that `.env` files are not committed:
